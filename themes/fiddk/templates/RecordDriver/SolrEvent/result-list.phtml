<?php
  $heading = $this->driver->getTitle();
  if (empty($heading)) {
    $heading = $this->translate('Heading unavailable.');
  }
  $lang = $this->plugin('translate')->getTranslator()->getLocale();?>

<div class="media">
  <div class="media-body">
    <div class="resultItemLine1">
      <a href="<?=$this->recordLink()->getUrl($this->driver)?>" class="title"><?=$this->escapeHtml($heading)?></a>
    </div>
    <?php $eventType = $this->driver->getEventType();?>
    <div class="resultItemLine2">
      <?php foreach ($eventType as $type): ?>
        <?=$this->escapeHtml($type)?>
      <?php endforeach; ?>
    </div>
    <?php $place = $this->driver->getEventPlace(); $date = $this->driver->getEventDate();?>
    <?php if ($place != "" || $date != ""): ?>
      <div class="resultItemLine3">
        <?php if ($place != "" && $date != ""): ?>
          <?=$this->escapeHtml($place) . ', ' . $this->driver->translateDate($date,$lang)?>
        <?php else : ?>
        <?php if ($place != ""): ?>
          <?=$this->escapeHtml($place)?>
        <?php else: ?>
          <?=$this->driver->translateDate($date,$lang)?>
        <?php endif; ?>
      <?php endif; ?>
      </div>
    <?php endif; ?>
  </div>
</div>
